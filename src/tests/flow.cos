* unit tests for the non-ifblock flow stuff 
* fuzzie, 06/06/04

* test LOOP .. UNTL
SETV VA00 0
LOOP
 ADDV VA00 1
UNTL VA00 eq 3
DBG: ASRT VA00 eq 3

* test LOOP .. EVER
SETS VA00 CAOS 1 0 0 0 "SETV VA00 3 LOOP DOIF VA00 EQ 0 STOP ENDI OUTV VA00 SUBV VA00 1 EVER" 0 0 VA01
DBG: ASRT VA00 EQ "321"

* test REPS .. REPE
SETV VA00 0
SETV VA01 4
REPS VA01
 SETV VA01 0
 ADDV VA00 1
REPE
DBG: ASRT VA00 eq 4

* test GSUB
SETV VA00 0
GSUB test
DBG: ASRT VA00 eq 1

* GSUB loops
SETV VA00 5
REPS 4
  GSUB t2
REPE
DBG: ASRT VA00 eq 9

* for GSUB test
SUBR test
 SETV VA00 1
RETN

SUBR t2
 ADDV VA00 1
RETN
